<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="tableHeader" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3a5f"/>
      <stop offset="100%" style="stop-color:#2d5a87"/>
    </linearGradient>
    <linearGradient id="tableBody" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff"/>
      <stop offset="100%" style="stop-color:#f0f4f8"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="600" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="450" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e3a5f" text-anchor="middle">Diagram 12.1: Struktur Database Relasional</text>
  
  <!-- Database Icon -->
  <g transform="translate(400, 70)">
    <ellipse cx="50" cy="10" rx="40" ry="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <rect x="10" y="10" width="80" height="30" fill="#3498db" stroke="none"/>
    <ellipse cx="50" cy="40" rx="40" ry="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <path d="M10 10 L10 40" stroke="#2980b9" stroke-width="2"/>
    <path d="M90 10 L90 40" stroke="#2980b9" stroke-width="2"/>
    <text x="50" y="30" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">DATABASE</text>
  </g>
  
  <!-- Table: pengguna -->
  <g transform="translate(50, 140)" filter="url(#shadow)">
    <rect x="0" y="0" width="350" height="200" rx="8" ry="8" fill="white" stroke="#e0e0e0" stroke-width="1"/>
    
    <!-- Header -->
    <rect x="0" y="0" width="350" height="40" rx="8" ry="8" fill="url(#tableHeader)"/>
    <rect x="0" y="32" width="350" height="8" fill="url(#tableHeader)"/>
    <text x="175" y="26" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Tabel: pengguna</text>
    
    <!-- Column Headers -->
    <rect x="0" y="40" width="350" height="30" fill="#e8f4f8"/>
    <text x="35" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">id_pengguna</text>
    <text x="115" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">nama</text>
    <text x="195" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">email</text>
    <text x="295" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">saldo</text>
    
    <!-- Row 1 -->
    <rect x="0" y="70" width="350" height="30" fill="#ffffff"/>
    <text x="35" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">1</text>
    <text x="115" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">Ahmad</text>
    <text x="195" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">ahmad@...</text>
    <text x="295" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">500000</text>
    
    <!-- Row 2 -->
    <rect x="0" y="100" width="350" height="30" fill="#f8fafc"/>
    <text x="35" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">2</text>
    <text x="115" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">Siti</text>
    <text x="195" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">siti@...</text>
    <text x="295" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">1250000</text>
    
    <!-- Row 3 -->
    <rect x="0" y="130" width="350" height="30" fill="#ffffff"/>
    <text x="35" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">3</text>
    <text x="115" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">Budi</text>
    <text x="195" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">budi@...</text>
    <text x="295" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">750000</text>
    
    <!-- Primary Key indicator -->
    <rect x="5" y="75" width="55" height="20" rx="3" fill="none" stroke="#e74c3c" stroke-width="2"/>
    <text x="175" y="185" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c" text-anchor="middle">ðŸ”‘ Primary Key: id_pengguna</text>
  </g>
  
  <!-- Table: produk -->
  <g transform="translate(500, 140)" filter="url(#shadow)">
    <rect x="0" y="0" width="350" height="200" rx="8" ry="8" fill="white" stroke="#e0e0e0" stroke-width="1"/>
    
    <!-- Header -->
    <rect x="0" y="0" width="350" height="40" rx="8" ry="8" fill="url(#tableHeader)"/>
    <rect x="0" y="32" width="350" height="8" fill="url(#tableHeader)"/>
    <text x="175" y="26" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Tabel: produk</text>
    
    <!-- Column Headers -->
    <rect x="0" y="40" width="350" height="30" fill="#e8f4f8"/>
    <text x="40" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">id_produk</text>
    <text x="130" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">nama_produk</text>
    <text x="250" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">harga</text>
    <text x="315" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">stok</text>
    
    <!-- Row 1 -->
    <rect x="0" y="70" width="350" height="30" fill="#ffffff"/>
    <text x="40" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">101</text>
    <text x="130" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">Laptop Gaming</text>
    <text x="250" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">15000000</text>
    <text x="315" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">10</text>
    
    <!-- Row 2 -->
    <rect x="0" y="100" width="350" height="30" fill="#f8fafc"/>
    <text x="40" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">102</text>
    <text x="130" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">Mouse Wireless</text>
    <text x="250" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">350000</text>
    <text x="315" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">50</text>
    
    <!-- Row 3 -->
    <rect x="0" y="130" width="350" height="30" fill="#ffffff"/>
    <text x="40" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">103</text>
    <text x="130" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">Keyboard Mech</text>
    <text x="250" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">1200000</text>
    <text x="315" y="150" font-family="Arial, sans-serif" font-size="11" fill="#333">25</text>
    
    <!-- Primary Key indicator -->
    <rect x="5" y="75" width="60" height="20" rx="3" fill="none" stroke="#e74c3c" stroke-width="2"/>
    <text x="175" y="185" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c" text-anchor="middle">ðŸ”‘ Primary Key: id_produk</text>
  </g>
  
  <!-- Table: pesanan (relational) -->
  <g transform="translate(275, 380)" filter="url(#shadow)">
    <rect x="0" y="0" width="350" height="170" rx="8" ry="8" fill="white" stroke="#e0e0e0" stroke-width="1"/>
    
    <!-- Header -->
    <rect x="0" y="0" width="350" height="40" rx="8" ry="8" fill="url(#tableHeader)"/>
    <rect x="0" y="32" width="350" height="8" fill="url(#tableHeader)"/>
    <text x="175" y="26" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Tabel: pesanan</text>
    
    <!-- Column Headers -->
    <rect x="0" y="40" width="350" height="30" fill="#e8f4f8"/>
    <text x="35" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">id_pesanan</text>
    <text x="120" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">id_pengguna</text>
    <text x="210" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">id_produk</text>
    <text x="295" y="60" font-family="Arial, sans-serif" font-size="11" fill="#1e3a5f" font-weight="bold">jumlah</text>
    
    <!-- Row 1 -->
    <rect x="0" y="70" width="350" height="30" fill="#ffffff"/>
    <text x="35" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">1001</text>
    <text x="120" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">1</text>
    <text x="210" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">102</text>
    <text x="295" y="90" font-family="Arial, sans-serif" font-size="11" fill="#333">2</text>
    
    <!-- Row 2 -->
    <rect x="0" y="100" width="350" height="30" fill="#f8fafc"/>
    <text x="35" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">1002</text>
    <text x="120" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">2</text>
    <text x="210" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">101</text>
    <text x="295" y="120" font-family="Arial, sans-serif" font-size="11" fill="#333">1</text>
    
    <!-- Foreign Key indicators -->
    <rect x="95" y="75" width="55" height="20" rx="3" fill="none" stroke="#f39c12" stroke-width="2"/>
    <rect x="185" y="75" width="55" height="20" rx="3" fill="none" stroke="#f39c12" stroke-width="2"/>
    <text x="175" y="155" font-family="Arial, sans-serif" font-size="10" fill="#f39c12" text-anchor="middle">ðŸ”— Foreign Keys: id_pengguna, id_produk</text>
  </g>
  
  <!-- Relationship lines -->
  <path d="M225 290 Q225 350 310 410" stroke="#e74c3c" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,3"/>
  <path d="M675 290 Q675 350 590 410" stroke="#e74c3c" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,3"/>
  
  <!-- Legend -->
  <g transform="translate(50, 530)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e3a5f">Keterangan:</text>
    <rect x="0" y="10" width="20" height="15" fill="none" stroke="#e74c3c" stroke-width="2"/>
    <text x="30" y="22" font-family="Arial, sans-serif" font-size="11" fill="#333">Primary Key (Kunci Utama)</text>
    <rect x="200" y="10" width="20" height="15" fill="none" stroke="#f39c12" stroke-width="2"/>
    <text x="230" y="22" font-family="Arial, sans-serif" font-size="11" fill="#333">Foreign Key (Kunci Asing)</text>
    <line x1="420" y1="17" x2="460" y2="17" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="470" y="22" font-family="Arial, sans-serif" font-size="11" fill="#333">Relasi antar Tabel</text>
  </g>
  
  <!-- Footer -->
  <text x="450" y="580" font-family="Arial, sans-serif" font-size="10" fill="#666" text-anchor="middle">Modul 12 - SQL Injection | Pengantar Keamanan Siber</text>
</svg>
