<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 600">
  <defs>
    <linearGradient id="docGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="hashGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="signGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="keyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d68910;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="successGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e8449;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="950" height="600" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="475" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50" text-anchor="middle">
    Diagram 7: Proses Tanda Tangan Digital
  </text>
  
  <!-- Signing Section -->
  <rect x="30" y="50" width="890" height="230" rx="15" fill="#fef9e7" stroke="#f39c12" stroke-width="2"/>
  <text x="475" y="78" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#d68910" text-anchor="middle">
    PROSES PEMBUATAN TANDA TANGAN (Pengirim)
  </text>
  
  <!-- Original Document -->
  <rect x="50" y="100" width="120" height="90" rx="8" fill="url(#docGrad)" filter="url(#shadow)"/>
  <text x="110" y="130" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">ğŸ“„ Dokumen</text>
  <text x="110" y="148" font-family="Arial, sans-serif" font-size="9" fill="#ecf0f1" text-anchor="middle">Asli</text>
  <rect x="65" y="160" width="90" height="20" rx="3" fill="rgba(255,255,255,0.3)"/>
  <text x="110" y="174" font-family="Arial, sans-serif" font-size="8" fill="white" text-anchor="middle">"Kontrak ABC..."</text>
  
  <!-- Arrow to Hash -->
  <line x1="170" y1="145" x2="210" y2="145" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hash Function -->
  <rect x="220" y="110" width="130" height="70" rx="8" fill="url(#hashGrad)" filter="url(#shadow)"/>
  <text x="285" y="138" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">ğŸ”¢ Fungsi Hash</text>
  <text x="285" y="155" font-family="Arial, sans-serif" font-size="9" fill="#ecf0f1" text-anchor="middle">(SHA-256)</text>
  <text x="285" y="170" font-family="Arial, sans-serif" font-size="8" fill="#d4b5e0" text-anchor="middle">Menghasilkan digest</text>
  
  <!-- Arrow to Hash Result -->
  <line x1="350" y1="145" x2="390" y2="145" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Hash Result -->
  <rect x="400" y="115" width="100" height="60" rx="8" fill="#8e44ad" filter="url(#shadow)"/>
  <text x="450" y="140" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Hash</text>
  <text x="450" y="158" font-family="Arial, sans-serif" font-size="7" fill="#d4b5e0" text-anchor="middle">a7b9c3d5e8...</text>
  <text x="450" y="168" font-family="Arial, sans-serif" font-size="7" fill="#d4b5e0" text-anchor="middle">(256 bit)</text>
  
  <!-- Plus Private Key -->
  <text x="520" y="150" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">+</text>
  
  <!-- Private Key -->
  <rect x="545" y="115" width="100" height="60" rx="8" fill="#e74c3c" filter="url(#shadow)"/>
  <text x="595" y="138" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">ğŸ” Kunci</text>
  <text x="595" y="155" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Privat</text>
  <text x="595" y="170" font-family="Arial, sans-serif" font-size="7" fill="#f5b7b1" text-anchor="middle">(Pengirim)</text>
  
  <!-- Arrow to Encryption -->
  <line x1="645" y1="145" x2="685" y2="145" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Sign/Encrypt -->
  <rect x="695" y="110" width="90" height="70" rx="8" fill="url(#signGrad)" filter="url(#shadow)"/>
  <text x="740" y="140" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Enkripsi</text>
  <text x="740" y="158" font-family="Arial, sans-serif" font-size="9" fill="#ecf0f1" text-anchor="middle">(RSA/ECC)</text>
  
  <!-- Arrow to Signature -->
  <line x1="785" y1="145" x2="825" y2="145" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Digital Signature -->
  <rect x="835" y="100" width="75" height="90" rx="8" fill="url(#keyGrad)" filter="url(#shadow)"/>
  <text x="872" y="130" font-family="Arial, sans-serif" font-size="18" fill="white" text-anchor="middle">âœï¸</text>
  <text x="872" y="152" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">Tanda</text>
  <text x="872" y="165" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">Tangan</text>
  <text x="872" y="180" font-family="Arial, sans-serif" font-size="7" fill="#fff9e6" text-anchor="middle">Digital</text>
  
  <!-- Send Package -->
  <rect x="50" y="200" width="860" height="65" rx="8" fill="#d5f5e3" stroke="#27ae60" stroke-width="1"/>
  <text x="475" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e8449" text-anchor="middle">
    ğŸ“¨ PAKET YANG DIKIRIM: Dokumen Asli + Tanda Tangan Digital
  </text>
  <text x="475" y="248" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50" text-anchor="middle">
    Dokumen tidak dienkripsi, tanda tangan membuktikan keaslian dan integritas
  </text>
  
  <!-- Verification Section -->
  <rect x="30" y="290" width="890" height="300" rx="15" fill="#e8f6ef" stroke="#27ae60" stroke-width="2"/>
  <text x="475" y="318" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e8449" text-anchor="middle">
    PROSES VERIFIKASI (Penerima)
  </text>
  
  <!-- Left Path: Hash of received document -->
  <rect x="50" y="340" width="100" height="70" rx="8" fill="url(#docGrad)" filter="url(#shadow)"/>
  <text x="100" y="365" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">ğŸ“„ Dokumen</text>
  <text x="100" y="380" font-family="Arial, sans-serif" font-size="9" fill="#ecf0f1" text-anchor="middle">Diterima</text>
  <text x="100" y="400" font-family="Arial, sans-serif" font-size="7" fill="#a9cce3" text-anchor="middle">"Kontrak ABC..."</text>
  
  <line x1="150" y1="375" x2="190" y2="375" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <rect x="200" y="345" width="110" height="60" rx="8" fill="url(#hashGrad)" filter="url(#shadow)"/>
  <text x="255" y="370" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">ğŸ”¢ Hash</text>
  <text x="255" y="388" font-family="Arial, sans-serif" font-size="8" fill="#ecf0f1" text-anchor="middle">(SHA-256)</text>
  
  <line x1="310" y1="375" x2="350" y2="375" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <rect x="360" y="350" width="90" height="50" rx="8" fill="#8e44ad"/>
  <text x="405" y="372" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">Hash A</text>
  <text x="405" y="388" font-family="Arial, sans-serif" font-size="7" fill="#d4b5e0" text-anchor="middle">(Dihitung)</text>
  
  <!-- Right Path: Decrypt signature -->
  <rect x="550" y="340" width="75" height="70" rx="8" fill="url(#keyGrad)" filter="url(#shadow)"/>
  <text x="587" y="365" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">âœï¸</text>
  <text x="587" y="382" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white" text-anchor="middle">Tanda</text>
  <text x="587" y="395" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="white" text-anchor="middle">Tangan</text>
  
  <text x="640" y="380" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">+</text>
  
  <rect x="665" y="345" width="90" height="60" rx="8" fill="#27ae60" filter="url(#shadow)"/>
  <text x="710" y="368" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">ğŸ”“ Kunci</text>
  <text x="710" y="385" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">Publik</text>
  <text x="710" y="398" font-family="Arial, sans-serif" font-size="7" fill="#d5f5e3" text-anchor="middle">(Pengirim)</text>
  
  <line x1="755" y1="375" x2="795" y2="375" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <rect x="805" y="345" width="90" height="60" rx="8" fill="#3498db" filter="url(#shadow)"/>
  <text x="850" y="368" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">Dekripsi</text>
  <text x="850" y="385" font-family="Arial, sans-serif" font-size="8" fill="#ecf0f1" text-anchor="middle">(RSA/ECC)</text>
  
  <line x1="850" y1="405" x2="850" y2="430" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <rect x="805" y="440" width="90" height="50" rx="8" fill="#8e44ad"/>
  <text x="850" y="462" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">Hash B</text>
  <text x="850" y="478" font-family="Arial, sans-serif" font-size="7" fill="#d4b5e0" text-anchor="middle">(Dari Tanda Tangan)</text>
  
  <!-- Comparison -->
  <rect x="460" y="430" width="200" height="80" rx="10" fill="#fef9e7" stroke="#f39c12" stroke-width="2"/>
  <text x="560" y="455" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d68910" text-anchor="middle">
    âš–ï¸ BANDINGKAN
  </text>
  <text x="560" y="475" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50" text-anchor="middle">Hash A == Hash B ?</text>
  
  <!-- Arrows to comparison -->
  <line x1="450" y1="375" x2="460" y2="460" stroke="#34495e" stroke-width="2"/>
  <line x1="805" y1="465" x2="660" y2="465" stroke="#34495e" stroke-width="2"/>
  
  <!-- Results -->
  <rect x="360" y="530" width="130" height="50" rx="8" fill="url(#successGrad)" filter="url(#shadow)"/>
  <text x="425" y="553" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">âœ“ VALID</text>
  <text x="425" y="570" font-family="Arial, sans-serif" font-size="8" fill="#d5f5e3" text-anchor="middle">Hash A = Hash B</text>
  
  <rect x="530" y="530" width="130" height="50" rx="8" fill="#e74c3c" filter="url(#shadow)"/>
  <text x="595" y="553" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">âœ— TIDAK VALID</text>
  <text x="595" y="570" font-family="Arial, sans-serif" font-size="8" fill="#f5b7b1" text-anchor="middle">Hash A â‰  Hash B</text>
  
  <!-- Arrows from comparison to results -->
  <line x1="510" y1="510" x2="450" y2="530" stroke="#27ae60" stroke-width="2"/>
  <line x1="610" y1="510" x2="580" y2="530" stroke="#e74c3c" stroke-width="2"/>
  
  <!-- Validity meaning -->
  <rect x="700" y="530" width="200" height="50" rx="5" fill="#d5f5e3"/>
  <text x="800" y="550" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1e8449" text-anchor="middle">Jika VALID berarti:</text>
  <text x="800" y="565" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50" text-anchor="middle">âœ“ Dokumen tidak diubah</text>
  <text x="800" y="578" font-family="Arial, sans-serif" font-size="8" fill="#2c3e50" text-anchor="middle">âœ“ Benar dari pengirim</text>
</svg>
